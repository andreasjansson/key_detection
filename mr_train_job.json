[
    {
        "Name": "Main flow",
        "ActionOnFailure": "TERMINATE_JOB_FLOW",
        "HadoopJarStep": {
            "Jar": "/home/hadoop/contrib/streaming/hadoop-streaming.jar",
            "Args": [
                "-input",   "s3n://andreasjansson/mrjob/input/filenames.lily50.data",
                "-output",  "s3n://andreasjansson/mrjob/output/matrices.lily50.pkl",
                "-mapper",  "\"python /home/hadoop/python/mr_train.py mapper\"",
                "-reducer", "\"python /home/hadoop/python/mr_train.py reducer\"",
                "-jobconf", "mapred.map.tasks=5",
                "-jobconf", "mapred.reduce.tasks=1",
                "-jobconf", "mapred.compress.map.output=true",
                "-cmdenv", "'PYTHONPATH=$PYTHONPATH:/home/hadoop/python'"
            ]
        }
    }
]
